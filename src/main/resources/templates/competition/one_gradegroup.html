<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
</head>
<body>
<h1 th:text="${gradeGroupResponse.gradeName}"></h1>

<div>
    <h2><span th:text="${gradeGroupResponse.grade_name}"></span> 난이도 참가자 목록</h2>
    <th:block th:each="member : ${gradeGroupResponse.getMember()}">
        <span th:text="${member}"></span>
    </th:block>

</div>
<div>
    <h2>예선 현황</h2>
    <table class="table">
        <thead>
            <tr>
                <th>예선 문제</th>
                <th:block th:each="member : ${gradeGroupResponse.getMember()}">
                    <th th:text="${member}"></th>
                </th:block>
            </tr>
        </thead>
        <tbody>
            <tr  th:each="section : ${#numbers.sequence(1,competition.sectionNum)}">
                <td th:text="${section}"></td>
                <th:block th:each=" round : ${gradeGroupResponse.GetQualifyScore(section)}">
                    <td>     <
                        <th:block th:if="{round.success}">
                            <span>O</span><br>
                            <span th:text="${round.tries}"></span>
                        </th:block>
                        <th:block th:unless="{round.success}">
                            <span>X</span><br>
                            <span th:text="${round.tries}"></span>
                        </th:block>

                    </td>
                </th:block>
            </tr>
        </tbody>
    </table>
</div>
<div>
    <h2>예선 점수 입력</h2>
    <form th:method="post" th:action="|/competition/${competition.id}/gradegroup/${gradeGroupResponse.id}/score|"  id="form_score" class="form-controll"><button type="submit" id="submit_score">점수등록</button>
        <table class="table">
            <thead>
                <tr>
                    <th>예선 문제</th>
                    <th:block th:each="member : ${gradeGroupResponse.getMember()}">
                        <th th:text="${member}"></th>
                    </th:block>
                </tr>
            </thead>
            <tbody>
                <tr  th:each="section : ${#numbers.sequence(1,competition.sectionNum )}">
                    <td th:text="${section}"></td>
                    <th:block th:each=" round : ${gradeGroupResponse.GetQualifyScore(section)}">
                        <td >
                            <input type="checkbox" th:value="${round.success}" th:name="|${section}-${roundStat.index}-0|">
                            <input type="text" th:value="${round.tries}" th:name="|${section}-${roundStat.index}-1|">
                        </td>
                    </th:block>
                </tr>
            </tbody>
        </table>
    </form>
</div>




<div>
    <a th:href="@{/competition/{id}(id=${competition.id})}">뒤로가기</a>
</div>


<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>


</body>
</html>